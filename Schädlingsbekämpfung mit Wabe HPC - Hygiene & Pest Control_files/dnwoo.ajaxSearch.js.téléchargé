jQuery(function(d){let u=null;d(".dnwoo_ajax_search_form").each(function(){const a=d(this);var o=d(this).find(".dnwoo_ajax_search_form_customone");const n=o.find(".dnwoo_ajax_search_loader_layout_one"),e=o.find(".dnwoo_ajax_search_icon_right.dnwoo_ajax_search_icon_inside_input"),t=d(this).find(".dnwoo_ajax_search_formsearch"),s=d(this).find("#dnwoo_ajax_search_nonce_field").val(),i=o.find("#dnwoo_ajax_product_cats"),c=d(this).find(".dnwoo_ajax_search_wrapper");var r=o.find(".dnwoo-custom-select");const l=i.val(),_=o.data();o.on("submit",function(o){o.preventDefault();o=t.val();return 1===_.searchButton&&3<=o.length&&(window.location="/?s="+o),!1}),r.siblings(".dnwoo-select-options").find("li").on("click",function(){var o=i.val();l!==o&&(c.html(""),t.val(""))}),d(t).on("input",function(a,n=500){let e;return(...o)=>{clearTimeout(e),e=setTimeout(()=>{a(...o)},n)}}(function(o){var o=o.target.value,a=i.val();o.length<3&&(c.empty(),n.css({display:"none"})),3<=o.length&&(n.css({display:"inline-block"}),e.css({display:"none"}),o={action:"dnwoo_product_ajax_search",searchNonce:s,searchTerm:o,searchIn:_.searchin,display:_.display,orderBy:_.orderby,order:_.order,search_limit:_.searchlimit,categoryStatus:_.categoryStatus,selectedCategory:a,categoryIds:_.categoryIds,currentCategory:_.currentCategory,containerClass:_.searchContainerClass,noResultText:_.noResultText,thumbnailSize:_.thumbnailSize,linkTarget:_.linkTarget},u&&u.abort(),u=d.ajax({url:Woo_Essential.ajaxurl,data:o,method:"POST",success:function(o){o=o.result_html;n.css({display:"none"}),e.css({display:"block"}),c.html(o),"dnwoo_ajax_search_masonry_layoutone"!==_.searchContainerClass&&c.find(".dnwoo_ajax_search_masonry_layoutthree .dnwoo_search_item_masonry").isotope({itemSelector:".grid-item",layoutMode:"masonry",percentPosition:!0,resize:!0,masonry:{columnWidth:".grid-item",gutter:".gutter-sizer"}})},error:function(){}}))})),d("body, html").on("click",function(){a.addClass("dnwoo_ajax_search_result_active")}),r.on("click",function(){d("body, html").find(".et_pb_column").not(this).each(function(){d(this).removeClass("dnwoo_column_zindex")}),d(this).closest(".et_pb_column").addClass("dnwoo_column_zindex"),a.addClass("dnwoo_ajax_search_result_active")}),t.on("click",function(o){d(this).closest(".et_pb_column").addClass("dnwoo_column_zindex"),a.hasClass("dnwoo_ajax_search_result_active")&&a.removeClass("dnwoo_ajax_search_result_active"),d(".dnwoo-custom-select.active").removeClass("active").siblings(".dnwoo-select-options").css("display","none"),o.stopPropagation()}),c.on("click",function(o){o.stopPropagation()})})});