function getNextAvailableDate(e,t){for(;t.includes(e.getDay());)e.setDate(e.getDate()+1);return e}if(window.PWH_DCFH=window.PWH_DCFH||{},!function($){"use strict";const{ajaxURL,ajaxNonce,isSuperAdmin,userIPAddress}=pwh_dcfh_params,{form_unique_id_warning,chosen_file_text,selected_files_text,uploading_text,already_attached_text,allow_filesize_text,x_files_allow_text,remove_file_text,delete_file_icon_hover_text,fill_message_text,fix_message_text,siganture_empty_text,siganture_before_save_text}=pwh_dcfh_params.i10n,contactFormClass=".et_pb_contact_form",submitBTNClass=".et_pb_contact_submit",messageClass=".et-pb-contact-message";PWH_DCFH.init=function(){0<$(contactFormClass).length&&(isSuperAdmin&&0<$(".et_pb_contact_form_container").length&&PWH_DCFH.handleFormUniqueIDWarning(),0<$(".et_pb_textarea_validation").length&&(PWH_DCFH.formSubmitCounter=0,PWH_DCFH.handleTextareaValidation()),0<$(".et_pb_file_input").length&&(PWH_DCFH.handleUploadFiles(),PWH_DCFH.handleRemoveFiles()),0<$(".et_pb_datetimepicker_input").length&&PWH_DCFH.handleDateTimePicker(),0<$(".et_pb_contact_select2").length&&PWH_DCFH.handleSelect2(),0<$(".et_pb_signature_pad_container").length&&PWH_DCFH.handleSignaturePad(),0<$(".et_pb_rating_container").length&&PWH_DCFH.handleStarRating(),0<$(".et_pb_phone_format").length&&PWH_DCFH.handlePhoneFormat(),"undefined"!=typeof dynamicCustomJSCode&&PWH_DCFH.handleScriptsAfterFormSubmit(),PWH_DCFH.handleUniqueViewCookie(),PWH_DCFH.handleLoadingIcon(),PWH_DCFH.handleRedirectForm(),PWH_DCFH.handleContactMessageClass(),PWH_DCFH.handleETCustom())},PWH_DCFH.handleFormUniqueIDWarning=()=>{const a={};$(".et_pb_contact_form_container").each(function(){var e=this.id,t=$(this).data("form_unique_id");t?(a[t]||(a[t]=[]),a[t].push(e)):$("#"+e).prepend(`<div class='et_pb_form_id_warning_message'>${form_unique_id_warning}</div>`)}),Object.entries(a).forEach(([,e])=>{1<e.length&&e.forEach(e=>{$("#"+e).prepend(`<div class='et_pb_form_id_warning_message'>${form_unique_id_warning}</div>`)})})},PWH_DCFH.handleUniqueViewCookie=()=>{$(".et_pb_contact_form_container").each(function(){var e=$(this).data("form_unique_id"),t=$(this).find("form").attr("data-unique-views-cookies");void 0!==e&&void 0!==t&&"on"===t&&(t="pwh_dcfh_uniqueviews_"+userIPAddress+"_"+e,setCookie(t,"pwh_dcfh_unique_views",364))})},PWH_DCFH.handleLoadingIcon=()=>{const s=$.fn.fadeTo;$.fn.fadeTo=function(e,t,a,n){var i=$(this);return i.find(".et_pb_contact_form_overlay").length&&t<1&&i.find(".et_pb_contact_form_overlay").show(),s.call(this,e,t,a,n)}},PWH_DCFH.handleDateTimePicker=()=>{$(".et_pb_datetimepicker_input").each(function(){var e=$(this).closest(".et_pb_contact_form_container").attr("class").split(/\s+/).find(e=>e.startsWith("et_pb_contact_form_"));let o=`input[name="${$(this).attr("name")}"]`;var t=$(o).data("config");let n=t.type,r=t.show_inline;var a=t.setcurrent_datetime,i=t.rtl,s=t.disabled_weeks;let d=t.disabled_week_days;var l=t.date_format,_=t.time_format;let c=t.min_date_type,p=t.min_date;var f=t.max_date_type,u=t.max_date;let m=t.available_dates;var h=t.unavailable_dates,b=t.min_time,v=t.max_time;let g=t.available_times,C=t.unavailable_times,x=t.available_day_times,y=t.unavailable_day_times,D=t.disabled_current_date,w=t.disabled_past_times,H=t.ics_data;e={yearStart:1900,inline:!1,step:t.time_steps,closeOnDateSelect:!1,dayOfWeekStart:t.week_start,className:e,todayButton:!1,validateOnBlur:!1,formatDate:"Y-m-d",scrollMonth:!1,scrollTime:!1,scrollInput:!1};"date"===n?e.format=l:"time"===n?e.format=_:e.format=l+" "+_,e.datepicker=""!==l,""!==_?(e.timepicker=!0,e.formatTime=_):e.timepicker=!1,void 0!==r&&"on"===r&&(e.inline=!0,e.lazyInit=!0,e.allowBlank=!0),void 0!==a&&"on"===a&&(e.value=new Date),void 0!==i&&"on"===i&&(e.rtl=!0),"off"===s&&(e.weeks=!0),""!==d&&("string"===jQuery.type(d)?(d=d.split(",").map(function(e){return parseInt(e)}),e.disabledWeekDays=d):e.disabledWeekDays=[d]),void 0!==t.disabled_past_days&&"on"===t.disabled_past_days&&(e.minDate=0),void 0!==c&&("fixed"===c&&(l=new Date(p),e.minDate=p,e.defaultDate=l,e.startDate=l),"relative"===c)&&(e.minDate=p),void 0!==f&&("fixed"===f&&(e.maxDate=u),"relative"===f)&&(e.maxDate=u),void 0!==m&&(e.allowDates=m);let F=[];if("on"===D){const T=new Date;setTimeout(function(){$(`td[data-date="${T.getDate()}"]`).removeClass("xdsoft_current").removeClass("xdsoft_today")},500),F.push(t.current_date)}void 0!==h&&(Array.isArray(h)?F=F.concat(h):F.push(h)),0<F.length&&(e.disabledDates=F),void 0!==b&&(e.minTime=b),void 0!==v&&(e.maxTime=v),void 0!==g&&(e.allowTimes=g.split(","));let k=!(e.onSelectDate=function(e,t){var a,e=new Date(e).toLocaleDateString("en",{weekday:"long"}).toLowerCase();void 0!==x&&(void 0!==x["available_times_"+e]&&0<x["available_times_"+e].length?(e=x["available_times_"+e].split(","),this.setOptions({allowTimes:e})):this.setOptions({allowTimes:""})),"both"!==n||void 0===g&&void 0===C&&void 0===w||(a=(e=>{var t=null;for(const n of[/\b\d{4}[-\/]\d{2}[-\/]\d{2}\b/,/\b\w+\s+\d{1,2},\s+\d{4}\b/,/\b\d{1,2}[-\/]\d{1,2}[-\/]\d{4}\b/]){var a=e.match(n);if(a&&(t=new Date(a[0]),!isNaN(t.getTime())))return a[0]}return null})(e=t.val()),(e=>{e=e.match(/\b\d{1,2}:\d{2}(:\d{2})?\s*(AM|PM|am|pm)?\b/);e&&e[0]})(e),a&&t.val(a))}),P=!1;e.onSelectTime=function(e,t){e=new Date(e);if(!k&&"relative"===c&&p.startsWith("+")&&(a=p.split("-"),e.setDate(e.getDate()+parseInt(a[2])),(a=$(this.find("td:not(.xdsoft_disabled)").first()))&&(a=new Date(a.data("year"),a.data("month"),a.data("date")),e.getDate()!==a.getDate())&&e.setDate(e.getDate()-1),this.setOptions({value:e}),k=!0),"on"===D){var a=$(this).find("td.xdsoft_disabled.xdsoft_today");if(0<a.length){var a=a.next(),n=new Date(a.data("year"),a.data("month"),a.data("date")),{hours:a,minutes:i,seconds:s,milliseconds:o}={hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()},l=new Date(e.setHours(0,0,0,0));if(!(l.getTime()!==e.getTime()||r&&P)){for(;d.includes(n.getDay());)n.setDate(n.getDate()+1);e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(a,i,s,o),isNaN(e.getTime())||this.setOptions({value:e})}"on"===r&&(P=P||!0)}}},e.onGenerate=function(e,t){let a=new Date(e);e=a.toLocaleDateString("en",{weekday:"long"}).toLowerCase();if($(this).css("left",$(o).offset().left),$(this).css("width","auto"),void 0!==m&&setTimeout(function(){$.each(m.split(","),function(e,t){var t=new Date(t);void 0!==t&&(t=$(`td[data-date="${t.getDate()}"][data-month="${t.getMonth()}"]`)).hasClass("xdsoft_disabled")&&t.removeClass("xdsoft_disabled")})},100),void 0!==C){let t=C.split(",");$(this).find(".xdsoft_time").each(function(){var e=$(this);$(`td[data-date="${a.getDate()}"][data-month="${a.getMonth()}"]`);-1!==$.inArray(e.text(),t)&&e.toggleClass("xdsoft_disabled")})}if(void 0!==y&&void 0!==y["unavailable_times_"+e]&&0<y["unavailable_times_"+e].length){let t=y["unavailable_times_"+e].split(",");$(this).find(".xdsoft_time").each(function(){var e=$(this);-1!==$.inArray(e.text(),t)&&e.toggleClass("xdsoft_disabled")})}if(void 0!==H){e=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-`+String(a.getDate()).padStart(2,"0");if(H[e]){e=H[e].split(",");const n=e=>e.toLowerCase(),i=e.map(n);$(this).find(".xdsoft_time").each(function(){var e=$(this),t=e.text().toLowerCase();t&&i.includes(n(t))||(t=t.replace(/\s?am|\s?pm/,""),i.includes(t))?e.toggleClass("xdsoft_disabled",!0):e.toggleClass("xdsoft_disabled",!1)})}}if(void 0!==w){const s=new Date;a.getDate()===s.getDate()&&$(this).find(".xdsoft_time").each(function(){var n=$(this),i=n.text();if(""!==i){i=i.match(/(\d+):(\d+)([ap]m)?/i);if(i){let[,e,t,a]=i;e=parseInt(e,10),t=parseInt(t,10),"pm"===(a=a?a.toLowerCase():null)&&12!==e?e+=12:"am"===a&&12===e&&(e=0),s.setHours(e,t,0,0),new Date>s&&n.toggleClass("xdsoft_disabled")}}})}!k&&0<d.length&&(a=getNextAvailableDate(a,d),this.setOptions({defaultDate:a,startDate:a}),k=!0)},$.datetimepicker.setLocale(t.locale),$(o).datetimepicker(e)})},PWH_DCFH.handleSelect2=()=>{$(".et_pb_contact_select2").select2(),$(document).on("select2:open",e=>{e=e.target.id;$(".select2-search__field[aria-controls='select2-"+e+"-results']").each(function(e,t){t.focus()})})},PWH_DCFH.handleStarRating=()=>{$('.et_pb_rating_container input[type="radio"][name="rating"]').change(function(e){e.preventDefault();var e=$(this),t=e.parent(),e=e.val();t.find('input[type="text"]').val(e)})},PWH_DCFH.handleSignaturePad=()=>{$(document).on("submit","form.et_pb_contact_form",function(e){e.preventDefault(),$.each($(this).find(".et_pb_signature_pad_container"),function(){var e=$(this),t=e.find("canvas");e.find("input[type='text']").hasClass("et_contact_error")?t.addClass("et_pb_required_border"):t.removeClass("et_pb_required_border")})}),$(".et_pb_signature_pad_container").each(function(){let t=$(this),a=t.parents('div[class*="et_pb_contact_form_container"]'),i=a.find(messageClass+".et_pb_contact_message_top"),s=("none"===i.css("display")&&(i=a.find(messageClass+".et_pb_contact_message_bottom")),t.find("canvas"));if(0<s.length){var e=t.data("config");if(void 0!==e){var o=""===e.width?.97*$(s).parents('p[class*="et_pb_contact_field"]').outerWidth():e.width,l=e.height;s.attr("width",o),s.attr("height",l);let n=new SignaturePad(s[0],{backgroundColor:e.background,penColor:e.color,maxWidth:e.pen_thickness});var r=!1;t.find(".save").click(function(){var e;t.find(".et_pb_signature_pad_message").text(""),n.isEmpty()?r||(0<i.children().length?i.find("ul").first().append(`<li>${siganture_empty_text}</li>`):i.append(`<ul><li>${siganture_empty_text}</li></ul>`),r=!0):(r=!1,window.confirm(siganture_before_save_text)&&""!==(e=n.toDataURL())&&$.ajax({type:"post",dataType:"json",url:ajaxURL,data:{action:"save_digital_signature",_wpnonce:ajaxNonce,data_url:e},beforeSend:function(){a.find(".et_pb_contact_spinner").addClass("is-active"),t.find("input[type='text']").val(""),n.off()},success:function(e){e.success&&(t.find(".save").addClass("et_pb_d_none"),s.hasClass("et_pb_required_border")&&s.removeClass("et_pb_required_border"),t.find("input[type='text']").val(e.data.filename),t.find(".et_pb_signature_pad_message").text(e.data.message))},complete:function(){a.find(".et_pb_contact_spinner").removeClass("is-active"),i.find("ul li").filter(function(){return $(this).text()===siganture_empty_text}).remove()},error:function(e,t,a){n.on()}}))}),t.find(".clear").click(function(){var e;n.isEmpty()||(t.find(".et_pb_signature_pad_message").text(""),n.clear(),""!==(e=t.find("input[type='text']").val())&&$.ajax({type:"post",dataType:"json",url:ajaxURL,data:{action:"delete_digital_signature",_wpnonce:ajaxNonce,filename:e},beforeSend:function(){a.find(".et_pb_contact_spinner").addClass("is-active"),t.find("input[type='text']").val("")},success:function(e){e.success&&(t.find(".save").removeClass("et_pb_d_none"),t.find(".et_pb_signature_pad_message").text(e.data),n.on())},complete:function(){t.find("input[type='text']").val(""),a.find(".et_pb_contact_spinner").removeClass("is-active")},error:function(e,t,a){}}))})}}})};var filesErrorsArr=null,uploadedFiles={},filesValidation={};PWH_DCFH.handleUploadFiles=()=>{$(document).on("submit","form.et_pb_contact_form",function(t){if(t.preventDefault(),null!==filesErrorsArr){t=$(this).parents('div[class*="et_pb_contact_form_container"]');let e=t.find(messageClass+".et_pb_contact_message_top");0<(e="none"===e.css("display")?t.find(messageClass+".et_pb_contact_message_bottom"):e).children().length?e.find("ul").first().append(filesErrorsArr):e.append(`<ul>${filesErrorsArr}</ul>`)}$.each($(this).find(".et_pb_contact_hidden_files"),function(){var e=$(this),t=e.data("field-id");e.hasClass("et_contact_error")?void 0!==e.data("required_mark")&&"required"===e.data("required_mark")&&$("p.et_pb_contact_field.et_pb_contact_field_"+t).addClass("et_pb_required_border"):e.attr("novalidate")||""!==e.val()||"undefined"===e.data("required_mark")||"required"!==e.data("required_mark")?$("p.et_pb_contact_field.et_pb_contact_field_"+t).removeClass("et_pb_required_border"):$("p.et_pb_contact_field.et_pb_contact_field_"+t).addClass("et_pb_required_border")})}),$("body").on("click",".et_pb_file_upload_button",function(e){e.preventDefault(),$(this).parent().find(".et_pb_file_input").trigger("click")}),$("body").on("change",".et_pb_file_input",function(){var t=new FormData;let n=!1,a="";var e=$(this);let i=e.parents('div[class*="et_pb_contact_form_container"]'),s=e.parent(),o=e.closest("form"),l=o.find(submitBTNClass).text(),r=o.find(submitBTNClass).data("wait-text"),d=e.data("field-id");var _=e.prop("files");let c=e.attr("name");var p=e.data("limit"),f=e.data("size"),u=e.data("size-formatted"),e=e[0].hasAttribute("multiple");let m=`input:file[name=${c}]`,h=`input:text[name=${c}]`;var b=`input:hidden[name=${c}_file_token]`;let v=$("#et_pb_accepted_files_desc_"+d),g=i.find(messageClass+".et_pb_contact_message_top"),C=("none"===g.css("display")&&(g=i.find(messageClass+".et_pb_contact_message_bottom")),$("p.et_pb_contact_field.et_pb_contact_field_"+d));uploadedFiles.hasOwnProperty(d)||(uploadedFiles[d]=[]),e||1!==uploadedFiles[d].length||(a+=`<li>${x_files_allow_text.replace("{allowed_files}",1)}</li>`,n=!0),_.length+uploadedFiles[d].length>p&&(a+=`<li>${x_files_allow_text.replace("{allowed_files}",p)}</li>`,n=!0);for(let e=0;e<=_.length-1;e++)_[e].size>=f&&(a+=`<li>${allow_filesize_text.replace("{filename}",_[e].name).replace("{allowed_filesize}",u)}</li>`,n=!0);if(n&&(filesErrorsArr=a,$(m).val(""),$(h).addClass("et_contact_error"),$(h).attr("data-required_mark","required"),0<g.children().length?g.find("ul").first().append(a):g.append(`<ul>${a}</ul>`),C.addClass("et_pb_required_border"),g.addClass("et_pb_contact_error_meesage")),!1===n){for(let e=0;e<=_.length-1;e++){if(filesValidation.hasOwnProperty(c)&&filesValidation[c].includes(_[e].name))return a+=`<li>${already_attached_text.replace("{filename}",_[e].name)}</li>`,0<g.children().length?g.find("ul").first().append(a):g.append(`<ul>${a}</ul>`),void C.addClass("et_pb_required_border");t.append(e,_[e]),filesValidation[c]=[],filesValidation[c].push(_[e].name)}t.append("action","upload_file"),t.append("_wpnonce",ajaxNonce),t.append("token",$(b).val()),$.ajax({type:"post",dataType:"json",contentType:!1,processData:!1,url:ajaxURL,data:t,xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){e.lengthComputable&&(e=Math.round(e.loaded/e.total*100),v.html(uploading_text.replace("{percentage}",e+"%")))},!1),e},beforeSend:function(){g.find('ul li:contains("'+s.find("label.et_pb_contact_form_label").text()+'")').remove(),C.removeClass("et_pb_required_border"),0===g.find("li").length&&g.find("p").remove(),i.find(".et_pb_contact_spinner").addClass("is-active"),$(m).prop("disabled",!0),o.find(submitBTNClass).prop("disabled",!0),o.find(submitBTNClass).text(r)},success:function(e){if(!1!==e.success){if(0<e.data.success.length){let a="";$.each(e.data.success,function(e,t){a=(a=(a=(a+=`<span class="et_pb_file" data-id="${t.name}">`)+`<a href="${t.url}" class="et_pb_file_name" download>${t.tmp_name}</a>`)+`<span class="et_pb_file_size">(${t.size})</span>`)+`<span class="et-pb-icon et_pb_delete_file" aria-hidden="true" title="${delete_file_icon_hover_text}"  data-field-id="${d}" data-field-name="${c}" data-file-name="${t.name}"  data-file-tmp-name="${t.tmp_name}">&#x4d;</span>`+"</span>",uploadedFiles.hasOwnProperty(d)||(uploadedFiles[d]=[]),uploadedFiles[d].push(t.name)}),s.find(".et_pb_files_list").append(a),$(h).val(uploadedFiles[d].join())}if(0<e.data.errors.length){n=!0;let a="";$.each(e.data.errors,function(e,t){a+=`<li>${t.message}</li>`}),0<g.children().length?g.find("ul").first().append(a):g.append(`<ul>${a}</ul>`),g.addClass("et_pb_contact_error_meesage"),C.addClass("et_pb_required_border"),filesErrorsArr=a}}else g.append(e.data)},complete:function(){$(m).val(""),v.html(v.data("description")),i.find(".et_pb_contact_spinner").removeClass("is-active"),$(m).prop("disabled",!1),o.find(submitBTNClass).prop("disabled",!1),o.find(submitBTNClass).text(l);let e=$(h).val().split(",").length,t="";selected_files_text.match(/\{_.+?}/g)&&(t=(t=selected_files_text.match(/\{_.+?}/g).map(function(e){return e.slice(1,-1).replaceAll("_","")})).find(e=>!!e)),!1===n&&(e=1===e?selected_files_text.replace("{chosen_files_count}",e).replace(`{_${t}_}`,""):selected_files_text.replace("{chosen_files_count}",e).replace(`{_${t}_}`,t),s.find(".et_pb_file_chosen_desc").text(e))},error:function(e,t,a){}})}})},PWH_DCFH.handleRemoveFiles=()=>{$("body").on("click",".et_pb_delete_file",function(){var e=$(this);let a=e.parents('div[class*="et_pb_contact_form_container"]'),o=e.closest("form"),l=o.find(submitBTNClass).text(),r=o.find(submitBTNClass).data("wait-text");var t=e.data("file-tmp-name");let d=e.data("file-name");if(confirm(remove_file_text.replace("{filename}",t))){let t=$(messageClass).parent().find(messageClass),i=e.data("field-name"),s=e.data("field-id");if(""!==i&&""!==d){let n=`input:text[name="${i}"]`;$.ajax({type:"post",dataType:"json",url:ajaxURL,data:{action:"remove_file",_wpnonce:ajaxNonce,file_name:d},beforeSend:function(){a.find(".et_pb_contact_spinner").addClass("is-active"),o.find(submitBTNClass).prop("disabled",!0),o.find(submitBTNClass).text(r)},success:function(e){if(!0===e.success){$(`span[data-id="${d}"]`).remove();var a=$(n).val().split(",").filter(function(e){return e!==d});uploadedFiles[s]=a,$(n).val(a.join(","));let e=a.length,t="";selected_files_text.match(/\{_.+?}/g)&&(t=selected_files_text.match(/\{_.+?}/g).map(function(e){return e.slice(1,-1).replaceAll("_","")})),e=1===e?selected_files_text.replace("{chosen_files_count}",e).replace(`{_${t}_}`,""):1<e?selected_files_text.replace("{chosen_files_count}",e).replace(`{_${t}_}`,t):chosen_file_text,o.find(".et_pb_file_chosen_desc").text(e),filesValidation.hasOwnProperty(i)&&-1===(a=filesValidation[i].indexOf(normalizeFileName(d)))&&filesValidation[i].splice(a,1)}else t.html("<p>"+e.data+"</p>")},complete:function(){a.find(".et_pb_contact_spinner").removeClass("is-active"),o.find(submitBTNClass).prop("disabled",!1),o.find(submitBTNClass).text(l)},error:function(e,t,a){}})}}})},PWH_DCFH.handleRedirectForm=()=>{$(document).on("submit","form"+contactFormClass,function(){var a=$(this),n=a.parents('div[class*="et_pb_contact_form_container"]');if(void 0!==n){let e=$(n).find("form").data("redirect-url"),t=$(n).find("form").data("redirect-delay");if(void 0!==e&&void 0!==t){const i=setInterval(function(){0===a.parents('div[class*="et_pb_contact_form_container"]').find("form").length&&(clearInterval(i),setTimeout(function(){location.href=e},t))},1e3)}}})},PWH_DCFH.handleContactMessageClass=()=>{$(document).on("submit","form"+contactFormClass,function(){var e=$(this),t=e.parents(),t=$(t.get(1)).hasClass("et_pb_recaptcha_enabled")||!1,e=e.parents('div[class*="et_pb_contact_form_container"]');let a=e.find(messageClass+".et_pb_contact_message_top");if("none"===a.css("display")&&(a=e.find(messageClass+".et_pb_contact_message_bottom")),!t&&0<a.children().length)a.addClass("et_pb_contact_error_meesage");else if(t){const n=setInterval(function(){0<a.children().length&&(clearInterval(n),a.addClass("et_pb_contact_error_meesage"))},50)}})},PWH_DCFH.handleTextareaValidation=()=>{$(document).on("submit","form"+contactFormClass,function(){let r=$(this),d=$(r.parents().get(1)).hasClass("et_pb_recaptcha_enabled")||!1;PWH_DCFH.formSubmitCounter=PWH_DCFH.formSubmitCounter+1,1===PWH_DCFH.formSubmitCounter&&r.find(".et_pb_textarea_validation").each(function(){var e=$(this),t=e.data("field-name"),a=$("#"+t);let n=e.data("title");var i=a.data("pattern");let s=a.data("message");a=new RegExp("^"+i+"$","s");let o={};i=r.parents('div[class*="et_pb_contact_form_container"]');let l=i.find(messageClass+".et_pb_contact_message_top");(l="none"===l.css("display")?i.find(messageClass+".et_pb_contact_message_bottom"):l).has("ul").find("li").each(function(){var e=$(this).text().toLowerCase();o[e]?$(this).remove():o[e]=!0}),""!==document.all[t].value&&($.trim(document.all[t].value).match(a)?(e.val(!0),e.removeClass("et_contact_error"),e.removeAttr("data-required_mark"),d||r.submit()):(PWH_DCFH.formSubmitCounter=0,e.val(""),e.addClass("et_contact_error"),e.attr("data-required_mark","required"),d?setTimeout(function(){l.find('ul li:contains("'+n+'")').html(s)},500):l.find('ul li:contains("'+n+'")').html(s)))})})},PWH_DCFH.handlePhoneFormat=()=>{$(".et_pb_phone_format").each(function(){var e=$(this),t=e.data("mask-format"),t=(e.data("allowed-symbols"),t.split(",").map(e=>e.trim()));e.inputmask({mask:t,greedy:!1,clearMaskOnLostFocus:!1,definitions:{x:{validator:"[0-9]",cardinality:1}}})})},PWH_DCFH.handleETCustom=()=>{"undefined"!=typeof et_pb_custom&&(et_pb_custom.fill_message=fill_message_text,et_pb_custom.contact_error_message=fix_message_text)},PWH_DCFH.handleScriptsAfterFormSubmit=()=>{let formSubmissionHandled=!1;$(document).on("submit","form"+contactFormClass,function(e){if(e.preventDefault(),!formSubmissionHandled){formSubmissionHandled=!0;let thisForm=$(this),formUniqueNum=thisForm.closest("[data-form_unique_num]").data("form_unique_num"),contactFormContainer=thisForm.closest('div[class*="et_pb_contact_form_container"]');if(contactFormContainer.length){let serializeArray=thisForm.serializeArray();const checkInterval=setInterval(function(){if(0===contactFormContainer.find("form").length){clearInterval(checkInterval);const pattern=/\{([^|}]+)(\|INT)?}/g,matchesIterator=dynamicCustomJSCode.matchAll(pattern);for(const match of matchesIterator)try{let placeholder=match[0],inputName=match[1].trim().toLowerCase(),isInteger="|INT"===match[2],matchingData=serializeArray.find(e=>`et_pb_contact_${inputName}_`+formUniqueNum===e.name);if(matchingData){let value=isInteger?parseInt(matchingData.value,10):matchingData.value;"string"==typeof value&&(value=`"${value.replace(/"/g,'\\"')}"`),dynamicCustomJSCode=dynamicCustomJSCode.replace(placeholder,value)}}catch(error){}try{eval(dynamicCustomJSCode)}catch(e){0 instanceof SyntaxError}}},1e3)}}})},PWH_DCFH.handlesynchronizingICSURL=()=>{$(document).on("click","button.ics_url_sync_btn",function(t){t.preventDefault();let a=$(this);t=a.data("wpnonce");let n=$(this).parents('div[class*="et-fb-form__group"]').prev();if(0<n.length){let e=a.text();var i=n.find("input").val();""!==i&&""!==t?$.ajax({type:"post",dataType:"json",url:ajaxURL,data:{action:"sync_ics_url",_wpnonce:t,url:decodeURIComponent(i)},beforeSend:function(){n.prev().prev().find("input").val(""),n.prev().prev().find("input").focus(),n.prev().prev().find("input").click(),a.text("Please wait synchronizing data from url...")},success:function(t){t.success?setTimeout(function(){var e=t.data.dates_str.replace(/,(?=[^,]*$)/,"");n.prev().prev().find("input").val(e),n.prev().prev().find("input").focus(),n.prev().prev().find("input").click(),$(".et-fb-button--publish").click()},500):alert(t.data)},complete:function(){a.text(e),n.find("input").val("")},error:function(e,t,a){}}):alert("Please add ICS Feed URL.")}})},PWH_DCFH.messageContainer=function(e){let t=$(e.parents().get(3)).find(messageClass+".et_pb_contact_message_top");return t="none"===t.css("display")?$(e.parents('div[class^="et_pb_contact"]').next()):t},$(document).ready(function(){$(PWH_DCFH.init)})}(jQuery),jQuery(document).ready(function(e){0<jQuery(".et_pb_cf_turnstile").length&&(window.onloadTurnstileCallback=function(){jQuery(".et_pb_cf_turnstile").each(function(){var e=jQuery(this);let t=e.closest(".et_pb_contact_form_container"),a=t.find('button[name="et_builder_submit_button"]');var n=e.data("sitekey");a.prop("disabled",!0).css("pointer-events","none"),turnstile.render("#"+e.attr("id"),{sitekey:n,theme:"light",callback:function(e){jQuery(`input[name="et_pb_contact_cturnstile_token_${t.data("form_unique_num")}"]`).val(e),a.prop("disabled",!1).css("pointer-events","auto")},error:function(e){}})})})}),jQuery(document).ready(function(){0<jQuery(".et_pb_g_recaptcha").length&&(window.onloadGoogleRecaptchaCallback=function(){setTimeout(function(){jQuery(".et_pb_g_recaptcha").each(function(e,t){let a=jQuery(t),n=a.closest(".et_pb_contact_form_container"),i=n.find('button[name="et_builder_submit_button"]');i.prop("disabled",!0).css("pointer-events","none"),grecaptcha.render(a.attr("id"),{sitekey:a.data("sitekey"),callback:function(e){jQuery(`input[name="et_pb_contact_grecaptcha_token_${n.data("form_unique_num")}"]`).val(e),a.find(".g-recaptcha-response").remove(),i.prop("disabled",!1).css("pointer-events","auto")}})})},300)})}),normalizeFileName=function(e){e=e.split("-");return 2<e.length&&e.splice(e.length-2,2),e.join("-")},setCookie=function(t,a,n){if(null===getCookie(t)){let e="";var i;n&&((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),e="; expires="+i.toUTCString()),document.cookie=t+"="+(a||"")+e+"; path=/"}},getCookie=function(e){var a=e+"=",n=document.cookie.split(";");for(let t=0;t<n.length;t++){let e=n[t];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(a))return e.substring(a.length,e.length)}return null},pwh_dcfh_params.isPopupsforDivi){let hasInitialized=!1;const observer=new MutationObserver(e=>{for(const a of e)if("class"===a.attributeName){var t=document.body;if(t.classList.contains("da-popup-visible")&&t.classList.contains("da-overlay-visible"))for(const n of document.querySelectorAll(".area-outer-wrap, .popup_outer_wrap"))if(n.querySelector(".et_pb_contact_form_container")){hasInitialized||PWH_DCFH.init();break}}});observer.observe(document.body,{attributes:!0,attributeFilter:["class"]})}